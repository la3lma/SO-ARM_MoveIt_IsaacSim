controller_manager:
  ros__parameters:
    use_sim_time: true
    update_rate: 100  # Hz

    # Joint State Broadcaster - publishes joint states to /joint_states
    joint_state_broadcaster:
      type: joint_state_broadcaster/JointStateBroadcaster

    # Joint Trajectory Controller - receives trajectory commands
    arm_controller:
      type: joint_trajectory_controller/JointTrajectoryController

# Joint State Broadcaster Configuration
joint_state_broadcaster:
  ros__parameters:
    use_sim_time: true
    joints:
      - Rotation
      - Pitch
      - Elbow
      - Wrist_Pitch
      - Wrist_Roll
      - Jaw
    interfaces:
      - position
      - velocity

# Arm Controller Configuration
arm_controller:
  ros__parameters:
    use_sim_time: true
    joints:
      - Rotation
      - Pitch
      - Elbow
      - Wrist_Pitch
      - Wrist_Roll
      - Jaw

    command_interfaces:
      - position

    state_interfaces:
      - position
      - velocity

    # PID gains for position control
    gains:
      Rotation:
        p: 100.0
        i: 0.01
        d: 10.0
      Pitch:
        p: 100.0
        i: 0.01
        d: 10.0
      Elbow:
        p: 100.0
        i: 0.01
        d: 10.0
      Wrist_Pitch:
        p: 50.0
        i: 0.01
        d: 5.0
      Wrist_Roll:
        p: 50.0
        i: 0.01
        d: 5.0
      Jaw:
        p: 20.0
        i: 0.01
        d: 2.0

    # Trajectory execution tolerances
    constraints:
      stopped_velocity_tolerance: 0.01
      goal_time: 0.0
